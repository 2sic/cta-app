@inherits Custom.Hybrid.Razor12
@using ToSic.Razor.Blade;
@{
  // Get some helper commands for later on
  var helpers = CreateInstance("Helpers.cs");
  var pres = Content.Presentation;
  var btnToolbar = new [] { "toolbar=empty", "+edit" };

  // only show the pattern if no image is given
  var bgPatternStyle = Text.Has(pres.BackgroundImage) ? "" : pres.Background;

  // TODO:  die 3 zeilen aus dem helper hier hinsetzen
}
<div class='container-fluid app-cta3-wrapper mb-4 @bgPatternStyle' style='@helpers.WrapperStyleAttribute(pres)' @Edit.TagToolbar(Content)>
  <div class="backgroundimage-overlay" style='display: @(pres.ShowImageOverlay ? "block" : "none")'></div>
  <div class="row">
    <div class="col-lg-8 offset-lg-2 app-cta3 @pres.TextColor @pres.TextAlignment">
      @if(pres.HeadingType != "hide") {
        @Tag.Custom(pres.HeadingType, Content.Title)
      }
      @if(Text.Has(Content.Text)) {
        <div class="app-cta3-text">
          @Html.Raw(Content.Text)
        </div>
      }
      <div class="app-cta3-buttons">
        @foreach (var btn in Content.Buttons) {
          <a href="@btn.ButtonLink" class="btn app-cta3-btn" target="@btn.ButtonTarget" @Edit.TagToolbar(btn, toolbar: btnToolbar, condition: !Content.IsDemoItem)>
            @btn.ButtonText
          </a>
        }
      </div>
    </div>
  </div>
</div>

@Html.Partial("./_CTA.PartAssets.cshtml")

